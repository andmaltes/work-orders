<div #container class="work-orders-duration-row" (mousemove)="onMouseMove($event)">
    <div *ngIf="workCenterId" class="work-orders-duration-row-add" [style.left.px]="mouseLeftPos" (click)="openCreateNewOrder()"></div>
    <div class="work-orders-duration-row-interval" [class.work-orders-duration-row-interval-today]="interval.isToday"
         *ngFor="let interval of intervals">
        <ng-container *ngFor="let workorder of workOrders; let i = index">
            <div class="work-order-bar"
                 [class.work-order-bar-open]="workorder.data.status == 'open'"
                 [class.work-order-bar-in-progress]="workorder.data.status == 'in-progress'"
                 [class.work-order-bar-complete]="workorder.data.status == 'complete'"
                 [class.work-order-bar-blocked]="workorder.data.status == 'blocked'"
                 *ngIf="workorder.firstIntervalDateTime == interval.intervalId"
                 [style.width.px]="calculateWidth(workorder)"
                 [style.left.px]="calculateLeft(workorder)"
            >
                <div class="work-order-bar-label">
                    {{ workorder.data.name }}
                </div>

                <app-work-order-status-badge [orderStatus]="workorder.data.status"></app-work-order-status-badge>

                <div class="work-order-bar-options-container" ngbDropdown container="body">
                    <div class="work-order-bar-options" ngbDropdownToggle>
                        <img src="ellipsis.png" alt="ellipsis">
                    </div>

                    <div ngbDropdownMenu>
                        <button ngbDropdownItem (click)="edit(workorder)">Edit</button>
                        <button ngbDropdownItem (click)="delete(workorder)">Delete</button>
                    </div>
                </div>
            </div>
        </ng-container>
    </div>
</div>

